<!--
Copyright (c) Microsoft Corporation. All rights reserved
-->

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <link rel="stylesheet" href="/css/scenario7.css" />

    <script src="/js/groupedData.js"></script>
    <script src="/js/scenario7.js"></script>
</head>
<body>
    <div data-win-control="SdkSample.ScenarioInput">
        <p>In this scenario we demonstrate how to enable end-user reordering of a grouped Listview using the ‘itemsReorderable’ property.</p>
        <p>When groups are involved, the listview handles all of the user experience, but you are required to complete the datasource changes upon handling the itemdragdrop event.  Note that not every grouped dataSource is able to be reordered; If you attempt to move an item from one group to another when the getGroupKey() function still reports that the item belongs to the old group, then the reorder will not take place and the ListView dataSource will be in an indeterminate state.</p>
    </div>
    <div data-win-control="SdkSample.ScenarioOutput">

        <!-- Template for the ListView instantiation  -->
        <div id="smallListIconTextTemplate" data-win-control="WinJS.Binding.Template" style="display: none">
            <div class="smallListIconTextItem">
                <img src="#" class="smallListIconTextItem-Image" data-win-bind="src: picture" draggable="false" />
                <div class="smallListIconTextItem-Detail">
                    <h4 data-win-bind="innerText: title"></h4>
                </div>
            </div>
        </div>

        <!-- Template for the group headers -->
        <div id="headerTemplate" data-win-control="WinJS.Binding.Template" style="display: none">
            <div class="simpleHeaderItem">
                <h2 data-win-bind="innerText: title"></h2>
            </div>
        </div>

        <!-- The declarative markup necesary for ListView instantiation -->
        <!-- Call WinJS.UI.processAll() in your initialization code -->
        <div id="listView"
             class="win-selectionstylefilled"
             data-win-control="WinJS.UI.ListView"
             data-win-options="{
                itemDataSource: Scenario7.itemDataSource,
                itemTemplate: smallListIconTextTemplate,
                groupDataSource: Scenario7.groupDataSource,
                groupHeaderTemplate: headerTemplate,
                layout: { type: WinJS.UI.GridLayout },
                selectionMode: 'single',
                itemsReorderable: true
            }"></div>
    </div>
</body>
</html>
